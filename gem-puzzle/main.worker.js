(()=>{class t{constructor(t){this.copy(t)}copy(t){this.cells=[],t.cells.forEach((t=>{const e={};null!=t.value&&(e.value=t.value),null!=t.left&&(e.left=t.left),null!=t.top&&(e.top=t.top),this.cells.push(e)})),this.empty={left:t.empty.left,top:t.empty.top}}setH(){let t=0;const e=Math.sqrt(this.cells.length);this.cells.forEach((l=>{if(0!==l.value&&l.top*e+l.left+1!==l.value){const s=(l.value-1)%e,h=(l.value-1-s)/e;t+=Math.abs(l.top-h)+Math.abs(l.left-s)}})),this.h=t}isFinish(){return this.cells.every((t=>0===t.value||t.value===t.top*Math.sqrt(this.cells.length)+t.left+1))}findCell(t,e){for(let l=0;l<this.cells.length;l+=1)if(this.cells[l].left===t&&this.cells[l].top===e)return l;return null}newState(e){const l=new t(this),s=l.cells[e].left,h=l.cells[e].top;return l.cells[e].left=l.empty.left,l.cells[e].top=l.empty.top,l.empty.left=s,l.empty.top=h,l}neighbors(){let t=null,e=null;const l=Math.sqrt(this.cells.length),s=[];return 0!==this.empty.top&&(t=this.findCell(this.empty.left,this.empty.top-1),e=this.newState(t),e.move=t,s.push(e)),0!==this.empty.left&&(t=this.findCell(this.empty.left-1,this.empty.top),e=this.newState(t),e.move=t,s.push(e)),this.empty.top!==l-1&&(t=this.findCell(this.empty.left,this.empty.top+1),e=this.newState(t),e.move=t,s.push(e)),this.empty.left!==l-1&&(t=this.findCell(this.empty.left+1,this.empty.top),e=this.newState(t),e.move=t,s.push(e)),s}}onmessage=e=>{postMessage(function(e){const l=[];function s(t,e,h){t.setH();const n=e+t.h;if(n>h)return n;if(0===t.h)return"FOUND";let i=1/0;const o=t.neighbors(),p=e+1;for(let t=0;t<o.length;t+=1){const e=s(o[t],p,h);if("FOUND"===e)return l.push(o[t].move),"FOUND";e<i&&(i=e)}return i}const h=new t(e);h.setH();let n=h.h;for(;;){const t=s(h,0,n);if("FOUND"===t)return l.reverse();if(t===1/0)return[];n=t}}(e.data))}})();