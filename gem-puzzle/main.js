(()=>{"use strict";var e={};function t(){return new Worker(e.p+"main.worker.js")}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&(t=s.currentScript.src),!t)){var i=s.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();class s{constructor(e){this.min=0,this.sec=0,this.statusBar=e}time(){59===this.sec?(this.min+=1,this.sec=0):this.sec+=1,this.statusBar&&this.statusBar.setTimer(this)}setTime(e,t){this.min=e,this.sec=t}getTime(){return{min:this.min,sec:this.sec}}clear(){this.min=0,this.sec=0}start(){const e=this.time.bind(this);this.timer=setInterval(e,1e3)}stop(){this.timer&&clearInterval(this.timer)}}class i{constructor(e){this.element=document.createElement("div"),this.element.classList.add("statusbar"),this.setWidth(e);let t=document.createElement("div");t.classList.add("timer");let s=document.createElement("span");s.classList.add("timer__title"),s.innerHTML='<i class="material-icons">timer</i>',t.appendChild(s);let i=document.createElement("span");i.classList.add("timer__value"),this.timer=i,t.appendChild(i),this.element.appendChild(t),t=document.createElement("div"),t.classList.add("moves"),s=document.createElement("span"),s.classList.add("moves__title"),s.innerHTML="<b>Moves:</b>",t.appendChild(s),i=document.createElement("span"),i.classList.add("moves__value"),this.moves=i,t.appendChild(i),this.element.appendChild(t)}setWidth(e){this.element.style.width=e+"px"}setTimer(e){let t=""+e.min,s=""+e.sec;1===t.length&&(t="0"+t),1===s.length&&(s="0"+s),this.timer.innerHTML=`${t}:${s}`}setMoves(e){this.moves.innerHTML=e}}function n(e,t){return Math.floor(Math.random()*(Math.floor(t)-Math.ceil(e)+1))+Math.ceil(e)}const a=[{name:"newgame",value:'<i class="material-icons-outlined">refresh</i>',title:"NEW GAME"},{name:"save",value:'<i class="material-icons-outlined">save</i>',title:"SAVE GAME"},{name:"load",value:'<i class="material-icons-outlined">upgrade</i>',title:"LOAD GAME"},{name:"pause",value:'<i class="material-icons-outlined">pause_circle_outline</i>',title:"PAUSE GAME"},{name:"top",value:'<i class="material-icons-outlined">star_rate</i>',title:"TOP SCORE"},{name:"settings",value:'<i class="material-icons-outlined">settings</i>',title:"SETTINGS"}];function l(e,t){window.localStorage.setItem(e,JSON.stringify(t))}function c(e){return JSON.parse(window.localStorage.getItem(e))}const o=document.createElement("div");o.classList.add("rules");const r=document.createElement("span");r.classList.add("rules__text"),r.innerHTML="The Gem Puzzle is a sliding puzzle that consists of a frame of numbered square tiles \nin random order with one tile missing. The goal of the puzzle is to place the tiles \nin order by making sliding moves that use the empty space.\nThe game has an automatic solution. Available for sizes 3x3 and 4x4. To do this, \npress pause and then press the solution, but remember that with some combinations the \nsolution may take a long time.",o.appendChild(r);const d=document.createElement("span");d.classList.add("rules__start-button"),d.innerHTML="Start Game",o.appendChild(d),document.body.prepend(o);let m=document.createElement("audio");m.src="./assets/sound/move.mp3",m.classList.add("audio__move"),document.body.prepend(m),m=document.createElement("audio"),m.src="./assets/sound/win.mp3",m.classList.add("audio__win"),document.body.prepend(m);let u=null;function h(){const e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;let s=e;t<e&&(s=t),u=.7*s}h();const p=new class{constructor(e){this.element=document.createElement("div"),this.element.classList.add("menu"),this.setSize(e);const t=document.createElement("ul");t.classList.add("menu__list"),a.forEach((e=>{const s=document.createElement("li");s.classList.add("menu__list__item","active"),s.innerHTML=e.value,s.title=e.title,t.appendChild(s),this[e.name]=s})),this.element.appendChild(t)}setSize(e){this.element.style.width=e+"px"}setValue(e,t){this[e].innerHTML=t}setTitle(e,t){this[e].title=t}activeItem(e){this[e].classList.add("active")}disableItem(e){this[e].classList.remove("active")}disableAll(){Object.keys(this).forEach((e=>{"element"!==e&&this.disableItem(e)}))}activeAll(){Object.keys(this).forEach((e=>{"element"!==e&&this.activeItem(e)}))}isActive(e){return this[e].classList.contains("active")}}(u);document.body.prepend(p.element);let v=c("puzzleSettings");v||(v={numbers:16,type:"num",sound:!0});const y=new class{constructor(e,t,a="num",l){this.size=e,this.cellSize=Math.round(this.size/Math.sqrt(t)),this.numbers=t,this.moves=0,this.type=a,this.statusbar=new i(e),this.timer=new s(this.statusbar),this.statusbar.setTimer(this.timer),this.statusbar.setMoves(this.moves),this.isEnableEvent=!0,this.isPaused=!1,this.isShowSolve=!1,"img"===this.type&&(this.img=new Image,this.img.src=`assets/images/${n(1,150)}.jpg`),this.setSettings(this.numbers,this.type,l)}resize(e){this.timer.stop(),this.statusbar.setWidth(e),this.size=e,this.cellSize=Math.round(this.size/Math.sqrt(this.numbers)),this.draw(!0),this.isPaused||this.timer.start(),this.isFinish()&&(this.timer.stop(),document.dispatchEvent(new Event("win",{bubbles:!0})))}showImage(){document.querySelectorAll(".cell").forEach((e=>{e.parentNode.removeChild(e)})),document.querySelector(".box").style.backgroundImage=`url('${this.img.src}')`}newGame(){this.timer.stop(),this.timer.clear(),this.moves=0,this.statusbar.setMoves(this.moves),this.statusbar.setTimer(this.timer),this.numbers=this.settings.numbers,this.cellSize=Math.round(this.size/Math.sqrt(this.numbers)),this.type=this.settings.type,this.isEnableEvent=!0,this.isPaused=!1,this.isShowSolve=!1;const e=document.querySelector(".box");e.style.backgroundSize="",e.style.backgroundImage="","img"===this.type&&(this.isLoadedImg=!1,this.img=new Image,this.img.src=`assets/images/${n(1,150)}.jpg`)}loadGame(e){this.moves=e.moves,this.timer.clear(),this.timer.setTime(e.timer.min,e.timer.sec),this.statusbar.setMoves(this.moves),this.statusbar.setTimer(this.timer),this.isEnableEvent=!0,this.isPaused=!1,this.isShowSolve=!1,this.type=e.type,this.numbers=e.cells.length,this.cellSize=Math.round(this.size/Math.sqrt(this.numbers));const t=document.querySelector(".box");t.style.backgroundSize="",t.style.backgroundImage="","img"===this.type&&(this.img=new Image,this.img.src=e.img),this.cells=e.cells,this.empty.left=e.empty.left,this.empty.top=e.empty.top}setSettings(e,t,s){this.settings={numbers:e,type:t,sound:s}}move(e){const t=this.cells[e];if(Math.abs(t.top-this.empty.top)+Math.abs(t.left-this.empty.left)>1)return;if(this.settings.sound){const e=document.querySelector(".audio__move");null!==e&&(e.currentTime=0,e.play())}const s=t.left,i=t.top;t.left=this.empty.left,t.top=this.empty.top,t.element.style.left=t.left*this.cellSize+"px",t.element.style.top=t.top*this.cellSize+"px",this.empty.left=s,this.empty.top=i,this.empty.element.style.left=this.empty.left*this.cellSize+"px",this.empty.element.style.top=this.empty.top*this.cellSize+"px",this.moves+=1,this.statusbar.setMoves(this.moves)}generateCells(){let e=[...Array(this.numbers).keys()].map((e=>e));e=e.slice(1).concat(0);let t=null,s=null,i=null,a=null;const l=[],c=Math.sqrt(this.numbers),o=c;let r=50;this.numbers>16&&(r*=this.numbers);for(let d=0;d<r;d+=1)l.length=0,t=e.indexOf(0),s=t%c,i=(t-s)/c,0!==i&&l.push(t-c),0!==s&&l.push(t-1),i!==o-1&&l.push(t+c),s!==c-1&&l.push(t+1),a=l[n(0,l.length-1)],e[t]=e[a],e[a]=0;this.cells=[],e.forEach((e=>this.cells.push({value:e})))}draw(e=!1){let t=document.querySelector(".box");null==t?(t=document.createElement("div"),t.classList.add("box"),t.style.height=this.cellSize*Math.sqrt(this.numbers)+"px",t.style.width=this.cellSize*Math.sqrt(this.numbers)+"px",this.overlay=document.createElement("div"),this.overlay.classList.add("overlay"),t.appendChild(this.overlay),document.body.prepend(t),document.body.prepend(this.statusbar.element)):(t.style.height=this.cellSize*Math.sqrt(this.numbers)+"px",t.style.width=this.cellSize*Math.sqrt(this.numbers)+"px",document.querySelectorAll(".cell").forEach((e=>{e.parentNode.removeChild(e)})));const s=Math.sqrt(this.numbers);this.cells.forEach(((i,n)=>{const a=i;let l=null,c=null;e?0===a.value?(l=this.empty.left,c=this.empty.top):(l=a.left,c=a.top):(l=n%s,c=(n-l)/s);const o=document.createElement("div");if(o.classList.add("cell"),o.style.height=this.cellSize+"px",o.style.width=this.cellSize+"px",o.style.left=l*this.cellSize+"px",o.style.top=c*this.cellSize+"px",0===a.value)if(o.classList.add("empty"),t.appendChild(o),e)this.empty.element=o;else{const e=l,t=c;this.empty={left:e,top:t,element:o}}else a.top=c,a.left=l,a.element=o,"num"===this.type?(o.classList.add("number"),o.innerHTML=a.value):this.insertImg(o,a),t.appendChild(o),this.addEventCell(o,n)}))}addEventCell(e,t){e.addEventListener("transitionstart",(()=>{this.isEnableEvent=!1})),e.addEventListener("transitionend",(()=>{this.isEnableEvent=!0,this.isFinish()&&(this.timer.stop(),document.dispatchEvent(new Event("win",{bubbles:!0})))})),e.addEventListener("mousedown",(s=>{if(!this.isEnableEvent||this.isShowSolve)return;const i=e.cloneNode(!0);i.classList.add("copy"),document.body.appendChild(i);let n=null;const a=s.clientX-e.getBoundingClientRect().left,l=s.clientY-e.getBoundingClientRect().top,c=s.pageX-a+"px",o=s.pageY-l+"px";function r(e,t){i.style.left=e-a+"px",i.style.top=t-l+"px"}function d(e){r(e.pageX,e.pageY),i.classList.add("hidden"),n=document.elementFromPoint(e.clientX,e.clientY),i.classList.remove("hidden")}i.classList.add("not-animate"),i.style.zIndex=1e3,i.ondragstart=()=>!1,r(s.pageX,s.pageY),document.addEventListener("mousemove",d),i.onmouseup=()=>{document.removeEventListener("mousemove",d),i.onmouseup=null,i.style.zIndex=0,i.classList.add("hidden"),i.parentNode.removeChild(i),(n&&n.closest(".empty")||Math.abs(parseFloat(i.style.left)-parseFloat(c))<5&&Math.abs(parseFloat(i.style.top)-parseFloat(o))<5)&&this.move(t)}}))}insertImg(e,t){const s=e,i=Math.sqrt(this.numbers),n=(t.value-1)%i,a=(t.value-1-n)/i,l=this.size/Math.sqrt(this.numbers),c=0-a*l,o=0-n*l;s.style.backgroundSize=`${this.size}px ${this.size}px`,s.style.backgroundPosition=`${o}px ${c}px`,s.style.backgroundImage=`url('${this.img.src}')`}overlayOn(e=.8){this.overlay&&(this.overlay.classList.add("active"),this.overlay.style.background=`rgba(0, 0, 0, ${e})`)}overlayOff(){this.overlay&&(this.clearOverlay(),this.overlay.classList.remove("active"),this.overlay.style.background="")}clearOverlay(){this.overlay&&(this.overlay.innerHTML="")}display(e){this.overlay&&this.overlay.appendChild(e)}pause(){this.isPaused=!0,this.timer.stop()}start(){"num"===this.type?(this.isPaused=!1,this.timer.start()):this.img.addEventListener("load",(()=>{this.isPaused=!1,this.timer.start()}))}isFinish(){return this.cells.every((e=>0===e.value||e.value===e.top*Math.sqrt(this.numbers)+e.left+1))}}(u,v.numbers,v.type,v.sound);function g(){const e=parseInt(document.querySelector("#size").value,10);let t="img";document.querySelector("#num").checked&&(t="num");const s=document.querySelector(".settings__sound").classList.contains("ON");y.setSettings(e,t,s),l("puzzleSettings",y.settings);const i=document.querySelector(".settings__info");i.textContent="Settings applied",i.classList.add("active")}function E(e){let t=e.toString();return 1===t.length&&(t="0"+t),t}y.generateCells(),y.draw(),p.newgame.addEventListener("click",(()=>{p.isActive("newgame")&&(y.isPaused&&(p.setTitle("pause","PAUSE GAME"),p.setValue("pause",'<i class="material-icons-outlined">pause_circle_outline</i>')),y.overlayOff(),y.newGame(),y.generateCells(),y.draw(),y.timer.start(),p.activeItem("pause"),p.activeItem("save"))})),p.pause.addEventListener("click",(()=>{p.isActive("pause")&&function(){if(y.isPaused)y.overlayOff(),y.start(),p.setTitle("pause","PAUSE GAME"),p.setValue("pause",'<i class="material-icons-outlined">pause_circle_outline</i>');else{y.pause(),y.overlayOn();const e=document.createElement("div");e.classList.add("pause");const s=document.createElement("span");if(s.classList.add("pause__title"),s.innerHTML="GAME PAUSED",e.appendChild(s),y.numbers<=16){const s=document.createElement("span");s.classList.add("pause__solve-info"),s.innerHTML="To automatically solve the puzzle, click the button below",e.appendChild(s);const i=document.createElement("span");i.classList.add("pause__solve-button"),i.innerHTML='<i class="material-icons-outlined">memory</i>',e.appendChild(i),i.addEventListener("click",(function e(){p.disableAll(),i.removeEventListener("click",e,!1),s.innerHTML="Calculation in progress, please wait",i.classList.add("animate");const n=new t,a={cells:[],empty:{left:y.empty.left,top:y.empty.top}};y.cells.forEach((e=>{const t={value:e.value,left:e.left,top:e.top};a.cells.push(t)}));const l=(new Date).getTime();n.postMessage(a),n.onmessage=t=>{p.activeAll(),i.classList.remove("animate");const a=(new Date).getTime();t.data&&t.data.length>0?(s.innerHTML=`Operation took ${a-l} ms.<br>Press play for view result`,i.innerHTML='<i class="material-icons-outlined">play_arrow</i>'):s.innerHTML="Sorry, no solution found",n.terminate(),i.addEventListener("click",(()=>{p.disableAll(),i.removeEventListener("click",e,!1),y.overlayOff(),function(e){y.isShowSolve=!0,y.timer.start();for(let t=0;t<e.length;t+=1)setTimeout((()=>{y.move(e[t])}),1e3*t);y.isPaused=!1}(t.data)}))}}))}y.display(e),p.setTitle("pause","RESUME GAME"),p.setValue("pause",'<i class="material-icons-outlined">play_circle_outline</i>')}}()})),p.save.addEventListener("click",(()=>{p.isActive("save")&&function(){y.isPaused||(y.pause(),y.overlayOn(),p.setTitle("pause","RESUME GAME"),p.setValue("pause",'<i class="material-icons-outlined">play_circle_outline</i>')),y.clearOverlay();let e="";y.img&&(e=y.img.src);const t={date:(new Date).getTime(),cells:y.cells,empty:y.empty,moves:y.moves,timer:{min:y.timer.min,sec:y.timer.sec},type:y.type,img:e,numbers:y.numbers};let s=c("puzzleSave");s||(s=[]),s.push(t),l("puzzleSave",s);const i=document.createElement("span");i.innerHTML="Game saved",i.classList.add("save__info"),y.display(i)}()})),p.load.addEventListener("click",(()=>{p.isActive("load")&&function(){y.isPaused||(y.pause(),p.setTitle("pause","RESUME GAME"),p.setValue("pause",'<i class="material-icons-outlined">play_circle_outline</i>')),y.overlayOn(),y.clearOverlay();const e=c("puzzleSave");let t=null;e?t=function(e){e.sort(((e,t)=>t.date-e.date));const t=document.createElement("div");t.classList.add("slider");const s=document.createElement("span");s.classList.add("slider__title"),t.appendChild(s);const i=document.createElement("div");i.classList.add("slider__wrapper"),t.appendChild(i);const n=document.createElement("span");n.classList.add("slider__left"),n.innerHTML='<i class="material-icons-outlined">keyboard_arrow_left</i>';const a=document.createElement("span");a.classList.add("slider__right"),a.innerHTML='<i class="material-icons-outlined">keyboard_arrow_right</i>';const l=document.createElement("div");l.classList.add("slider__preview");const c=document.createElement("div");c.classList.add("slider__info");const o=document.createElement("span");o.classList.add("slider__info__size");const r=document.createElement("span");r.classList.add("slider__info__move");const d=document.createElement("span");d.classList.add("slider__info__time"),c.appendChild(o),c.appendChild(r),c.appendChild(d),i.appendChild(n),i.appendChild(l),i.appendChild(c),i.appendChild(a);const m=document.createElement("button");function u(t){s.innerHTML=new Date(e[t].date).toLocaleString("en",{day:"numeric",month:"short",year:"numeric",hour12:!1,hour:"numeric",minute:"numeric"}),o.innerHTML=`Size: ${Math.sqrt(e[t].numbers)}x${Math.sqrt(e[t].numbers)}`,r.innerHTML="Moves: "+e[t].moves,d.innerHTML=`Time: ${E(e[t].timer.min)}:${E(e[t].timer.sec)}`;const i=document.querySelector(".miniBox");i&&l.removeChild(i),l.appendChild(function(e,t,s,i){const n=document.createElement("div");n.classList.add("miniBox"),n.style.height="150px",n.style.width="150px";const a=t/Math.sqrt(e.length);return e.forEach((l=>{if(0!==l.value){const c=document.createElement("div");if(c.classList.add("miniCell"),c.style.height=a+"px",c.style.width=a+"px",c.style.left=l.left*a+"px",c.style.top=l.top*a+"px","num"===s)c.classList.add("number"),c.innerHTML=l.value;else{const s=Math.sqrt(e.length),n=(l.value-1)%s,a=(l.value-1-n)/s,o=t/Math.sqrt(e.length),r=0-a*o,d=0-n*o;c.style.backgroundSize="150px 150px",c.style.backgroundPosition=`${d}px ${r}px`,c.style.backgroundImage=`url('${i}')`}n.appendChild(c)}})),n}(e[t].cells,150,e[t].type,e[t].img))}m.id="slider__load",m.innerHTML="Load",t.appendChild(m),u(0);let h=0;return e.length>1&&(a.classList.add("active"),a.addEventListener("click",(()=>{a.classList.contains("active")&&(h+=1,h===e.length-1&&a.classList.remove("active"),h>0&&n.classList.add("active"),u(h))})),n.addEventListener("click",(()=>{n.classList.contains("active")&&(h-=1,0===h&&n.classList.remove("active"),h<e.length-1&&a.classList.add("active"),u(h))}))),m.addEventListener("click",(()=>{y.loadGame(e[h]),y.overlayOff(),y.draw(!0),y.timer.start(),p.activeItem("pause"),p.activeItem("save")})),t}(e):(t=document.createElement("span"),t.classList.add("load__info"),t.innerHTML="Empty. No saved games"),y.display(t)}()})),p.top.addEventListener("click",(()=>{p.isActive("top")&&(y.isPaused||(y.pause(),p.setTitle("pause","RESUME GAME"),p.setValue("pause",'<i class="material-icons-outlined">play_circle_outline</i>')),y.overlayOn(),y.clearOverlay(),y.display(function(){const e=document.createElement("div");e.classList.add("topScore"),e.innerHTML='<span class="topScore__title">TOP SCORES</span>';const t=document.createElement("table");t.classList.add("topScore__table");let s=document.createElement("tr");["Date","Moves","Size","Type","Time"].forEach((e=>{const t=document.createElement("th");t.innerHTML=e,s.appendChild(t)})),t.appendChild(s);const i=c("winners");return i&&(i.sort(((e,t)=>e.moves-t.moves)),i.forEach((e=>{s=document.createElement("tr"),s.innerHTML=`<td>${e.date}</td><td>${e.moves}</td><td>${e.size}</td><td>${e.type}</td><td>${e.time}</td>`,t.appendChild(s)}))),e.appendChild(t),e}()))})),p.settings.addEventListener("click",(()=>{p.isActive("settings")&&function(){y.isPaused||(y.pause(),p.setTitle("pause","RESUME GAME"),p.setValue("pause",'<i class="material-icons-outlined">play_circle_outline</i>')),y.overlayOn(),y.clearOverlay();const e=function(){const e=document.createElement("div");e.classList.add("settings"),e.innerHTML='<span class="settings__title">SETTINGS</span>';const t=document.createElement("div");t.classList.add("settings__size"),t.innerHTML='<span class="settings__size__title">Size</span>';const s=document.createElement("select");s.id="size",s.classList.add("clickable"),[{size:"3x3",val:9},{size:"4x4",val:16},{size:"5x5",val:25},{size:"6x6",val:36},{size:"7x7",val:49},{size:"8x8",val:64}].forEach((e=>{const t=document.createElement("option");t.value=e.val,t.text=e.size,s.appendChild(t)})),s.value=y.settings.numbers,t.appendChild(s),e.appendChild(t);const i=document.createElement("div");i.classList.add("settings__type"),i.innerHTML='<span class="settings__type__title">Type</span>';let n=document.createElement("input");n.classList.add("clickable"),n.type="radio",n.name="type",n.id="num",n.value="num",i.appendChild(n);let a=document.createElement("label");a.htmlFor="num";let l=document.createTextNode("numbers");a.appendChild(l),"num"===y.settings.type&&(n.checked=!0),i.appendChild(a),n=document.createElement("input"),n.classList.add("clickable"),n.type="radio",n.name="type",n.id="img",n.value="img","img"===y.settings.type&&(n.checked=!0),i.appendChild(n),a=document.createElement("label"),a.htmlFor="img",l=document.createTextNode("image"),a.appendChild(l),i.appendChild(a),e.appendChild(i);const c=document.createElement("span");c.classList.add("settings__sound"),y.settings.sound?(c.innerHTML='<i class="material-icons">volume_up</i>',c.classList.add("ON")):(c.innerHTML='<i class="material-icons">volume_off</i>',c.classList.remove("ON")),e.appendChild(c),c.addEventListener("click",(()=>{document.querySelector(".settings__info").classList.remove("active"),c.classList.contains("ON")?(c.innerHTML='<i class="material-icons">volume_off</i>',c.classList.remove("ON")):(c.innerHTML='<i class="material-icons">volume_up</i>',c.classList.add("ON"))}));const o=document.createElement("button");o.id="apply_settings",o.innerHTML="Apply",e.appendChild(o);const r=document.createElement("p");return r.classList.add("settings__info"),r.textContent="INF",e.appendChild(r),o.addEventListener("click",g),e}();y.display(e),document.querySelectorAll(".clickable").forEach((e=>{e.addEventListener("click",(()=>{document.querySelector(".settings__info").classList.remove("active")}))}))}()})),document.addEventListener("win",(function(){if(y.isPaused=!0,p.disableItem("pause"),p.disableItem("save"),"img"===y.type&&y.showImage(),y.settings.sound){const e=document.querySelector(".audio__win");null!==e&&(e.currentTime=0,e.play())}let e=""+y.timer.min,t=""+y.timer.sec;1===e.length&&(e="0"+e),1===t.length&&(t="0"+t);const s=document.createElement("span");if(s.classList.add("win"),s.textContent=`Hooray! You solved the puzzle in ${e}:${t} and ${y.moves} moves`,y.clearOverlay(),y.overlayOn(.2),y.display(s),y.isShowSolve)return p.activeItem("newgame"),p.activeItem("load"),p.activeItem("top"),p.activeItem("settings"),void(y.isShowSolve=!1);const i=(new Date).toLocaleString("en",{day:"numeric",month:"short",year:"numeric"}),n=Math.sqrt(y.numbers),a={date:i,moves:y.moves,size:`${n}x${n}`,type:y.type,time:`${e}:${t}`};let o=c("winners");o||(o=[]),o.push(a),o.length>10&&(o.sort(((e,t)=>e.moves-t.moves)),o.length=10),l("winners",o)})),window.addEventListener("resize",(()=>function(){const e=u;h(),e!==u&&(p.setSize(u),y.resize(u))}())),d.addEventListener("click",(()=>{o.classList.add("hide"),y.timer.start()}))})();